{"version":3,"sources":["webpack:///./src/views/Password.vue?d82d","webpack:///./src/views/Password.vue?40a8","webpack:///./src/views/Password.vue?3682","webpack:///./src/views/Password.vue?33fc","webpack:///./src/views/Password.vue","webpack:///./node_modules/core-js/modules/_fails-is-regexp.js","webpack:///./node_modules/core-js/modules/_is-regexp.js","webpack:///requests.ts","webpack:///./node_modules/core-js/modules/_string-context.js","webpack:///./node_modules/core-js/modules/es6.string.starts-with.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_m","_s","username","directives","name","rawName","value","expression","attrs","domProps","on","$event","target","composing","password","signup","staticRenderFns","passwordError","sessionState","get","userName","length","sendAsync","method","headers","body","JSON","stringify","result","ok","requiresPasswordChange","$router","push","component","MATCH","module","exports","KEY","re","e","f","isObject","cof","it","isRegExp","undefined","port","window","location","DEBUG","href","indexOf","parseInt","Requests","url","startsWith","substring","fetch","data","defined","that","searchString","NAME","TypeError","String","$export","toLength","context","STARTS_WITH","$startsWith","P","F","index","Math","min","arguments","search","call","slice"],"mappings":"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","file":"js/chunk-17332ec6.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Password.vue?vue&type=style&index=0&id=0ae98145&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Password.vue?vue&type=style&index=0&id=0ae98145&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"password\"},[_c('h1',[_vm._v(\"Add a password\")]),_vm._m(0),_c('div',{staticClass:\"registration-form\"},[_c('div',{staticClass:\"username\"},[_c('span',[_vm._v(\"Your login username is \")]),_c('span',{staticClass:\"bold\"},[_vm._v(_vm._s(_vm.username))])]),_c('div',[_vm._m(1),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],staticClass:\"input-password\",attrs:{\"id\":\"inputPassword\",\"name\":\"inputPassword\",\"type\":\"password\",\"minlength\":\"8\",\"placeholder\":\"Password (min 8 characters)\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value}}})]),_c('button',{staticClass:\"save-button\",on:{\"click\":function($event){return _vm.signup()}}},[_vm._v(\"Save\")])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',[_vm._v(\"To complete your account, please add a password. This password is required to stream Ravenfall\"),_c('br'),_vm._v(\"\\n  Note: The password is not required for playing Ravenfall in someone elses stream.\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"input-icon\"},[_c('i',{staticClass:\"fas fa-lock-alt\"})])}]\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n  Component,\n  Vue,\n} from 'vue-property-decorator';\nimport V from 'vue';\nimport SiteState from '../site-state';\nimport Requests from '../requests';\nimport router from 'vue-router';\nimport {\n  SessionState\n} from '@/App.vue';\n\n\n\n@Component({})\nexport default class Password extends Vue {\n  private username: string = \"\";\n  private password: string = \"\";\n  private passwordError: string = \"\";\n\n  mounted() {\n    const sessionState = SessionState.get();\n    if (sessionState != null) {\n      this.username = sessionState.userName;\n    }\n  }\n\n  public async signup() {\n    this.passwordError = \"\";\n    if (this.password == null || this.password.length < 8) {\n      this.passwordError = \"You must have a password with minimum 8 characters.\"\n      return;\n    }\n\n    const result = await Requests.sendAsync('/api/auth/signup', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        'password': this.password\n      })\n    });\n\n    if (result.ok) {\n      const sessionState = SessionState.get();\n      if (sessionState == null) return;\n      sessionState.requiresPasswordChange = false;\n      this.$router.push(\"/\");\n    }\n  }\n\n  // public async skipSignup() {\n  //   const result = await Requests.sendAsync('/api/auth/skip-signup');\n  //   if (result.ok) {\n  //     const sessionState = SessionState.get();\n  //     if (sessionState == null) return;\n  //     sessionState.requiresPasswordChange = false;\n  //     this.$router.push(\"/\");\n  //   }\n  // }\n\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Password.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Password.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Password.vue?vue&type=template&id=0ae98145&scoped=true&\"\nimport script from \"./Password.vue?vue&type=script&lang=ts&\"\nexport * from \"./Password.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Password.vue?vue&type=style&index=0&id=0ae98145&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0ae98145\",\n  null\n  \n)\n\nexport default component.exports","var MATCH = require('./_wks')('match');\nmodule.exports = function (KEY) {\n  var re = /./;\n  try {\n    '/./'[KEY](re);\n  } catch (e) {\n    try {\n      re[MATCH] = false;\n      return !'/./'[KEY](re);\n    } catch (f) { /* empty */ }\n  } return true;\n};\n","// 7.2.8 IsRegExp(argument)\nvar isObject = require('./_is-object');\nvar cof = require('./_cof');\nvar MATCH = require('./_wks')('match');\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : cof(it) == 'RegExp');\n};\n","const port = window.location.port;\r\nvar DEBUG = window.location.href.indexOf(\"localhost\") >= 0 || (port != null && port && parseInt(port) >= 500);\r\nexport default class Requests {\r\n    static async sendAsync(url, data = null) {\r\n        if (DEBUG) {\r\n            url = \"https://localhost:5001/\" + (url.startsWith(\"/\") ? url.substring(1) : url);\r\n        }\r\n        return await fetch(url, data);\r\n    }\r\n}\r\n//# sourceMappingURL=requests.js.map","// helper for String#{startsWith, endsWith, includes}\nvar isRegExp = require('./_is-regexp');\nvar defined = require('./_defined');\n\nmodule.exports = function (that, searchString, NAME) {\n  if (isRegExp(searchString)) throw TypeError('String#' + NAME + \" doesn't accept regex!\");\n  return String(defined(that));\n};\n","// 21.1.3.18 String.prototype.startsWith(searchString [, position ])\n'use strict';\nvar $export = require('./_export');\nvar toLength = require('./_to-length');\nvar context = require('./_string-context');\nvar STARTS_WITH = 'startsWith';\nvar $startsWith = ''[STARTS_WITH];\n\n$export($export.P + $export.F * require('./_fails-is-regexp')(STARTS_WITH), 'String', {\n  startsWith: function startsWith(searchString /* , position = 0 */) {\n    var that = context(this, searchString, STARTS_WITH);\n    var index = toLength(Math.min(arguments.length > 1 ? arguments[1] : undefined, that.length));\n    var search = String(searchString);\n    return $startsWith\n      ? $startsWith.call(that, search, index)\n      : that.slice(index, index + search.length) === search;\n  }\n});\n"],"sourceRoot":""}