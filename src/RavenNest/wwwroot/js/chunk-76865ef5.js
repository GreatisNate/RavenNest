(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-76865ef5"],{"02f4":function(t,e,n){var r=n("4588"),a=n("be13");t.exports=function(t){return function(e,n){var i,s,c=String(a(e)),o=r(n),u=c.length;return o<0||o>=u?t?"":void 0:(i=c.charCodeAt(o),i<55296||i>56319||o+1===u||(s=c.charCodeAt(o+1))<56320||s>57343?t?c.charAt(o):i:t?c.slice(o,o+2):s-56320+(i-55296<<10)+65536)}}},"0390":function(t,e,n){"use strict";var r=n("02f4")(!0);t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},"0bfb":function(t,e,n){"use strict";var r=n("cb7c");t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"214f":function(t,e,n){"use strict";n("b0c5");var r=n("2aba"),a=n("32e9"),i=n("79e5"),s=n("be13"),c=n("2b4c"),o=n("520a"),u=c("species"),l=!i(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),f=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var h=c(t),d=!i(function(){var e={};return e[h]=function(){return 7},7!=""[t](e)}),p=d?!i(function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[u]=function(){return n}),n[h](""),!e}):void 0;if(!d||!p||"replace"===t&&!l||"split"===t&&!f){var v=/./[h],g=n(s,h,""[t],function(t,e,n,r,a){return e.exec===o?d&&!a?{done:!0,value:v.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),b=g[0],w=g[1];r(String.prototype,t,b),a(RegExp.prototype,h,2==e?function(t,e){return w.call(t,this,e)}:function(t){return w.call(t,this)})}}},"28a5":function(t,e,n){"use strict";var r=n("aae3"),a=n("cb7c"),i=n("ebd6"),s=n("0390"),c=n("9def"),o=n("5f1b"),u=n("520a"),l=n("79e5"),f=Math.min,h=[].push,d="split",p="length",v="lastIndex",g=4294967295,b=!l(function(){RegExp(g,"y")});n("214f")("split",2,function(t,e,n,l){var w;return w="c"=="abbc"[d](/(b)*/)[1]||4!="test"[d](/(?:)/,-1)[p]||2!="ab"[d](/(?:ab)*/)[p]||4!="."[d](/(.?)(.?)/)[p]||"."[d](/()()/)[p]>1||""[d](/.?/)[p]?function(t,e){var a=String(this);if(void 0===t&&0===e)return[];if(!r(t))return n.call(a,t,e);var i,s,c,o=[],l=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,d=void 0===e?g:e>>>0,b=new RegExp(t.source,l+"g");while(i=u.call(b,a)){if(s=b[v],s>f&&(o.push(a.slice(f,i.index)),i[p]>1&&i.index<a[p]&&h.apply(o,i.slice(1)),c=i[0][p],f=s,o[p]>=d))break;b[v]===i.index&&b[v]++}return f===a[p]?!c&&b.test("")||o.push(""):o.push(a.slice(f)),o[p]>d?o.slice(0,d):o}:"0"[d](void 0,0)[p]?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,r){var a=t(this),i=void 0==n?void 0:n[e];return void 0!==i?i.call(n,a,r):w.call(String(a),n,r)},function(t,e){var r=l(w,t,this,e,w!==n);if(r.done)return r.value;var u=a(t),h=String(this),d=i(u,RegExp),p=u.unicode,v=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(b?"y":"g"),m=new d(b?u:"^(?:"+u.source+")",v),x=void 0===e?g:e>>>0;if(0===x)return[];if(0===h.length)return null===o(m,h)?[h]:[];var y=0,k=0,R=[];while(k<h.length){m.lastIndex=b?k:0;var C,_=o(m,b?h:h.slice(k));if(null===_||(C=f(c(m.lastIndex+(b?0:k)),h.length))===y)k=s(h,k,p);else{if(R.push(h.slice(y,k)),R.length===x)return R;for(var E=1;E<=_.length-1;E++)if(R.push(_[E]),R.length===x)return R;k=y=C}}return R.push(h.slice(y)),R}]})},"2fdb":function(t,e,n){"use strict";var r=n("5ca1"),a=n("d2c8"),i="includes";r(r.P+r.F*n("5147")(i),"String",{includes:function(t){return!!~a(this,t,i).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},3846:function(t,e,n){n("9e1e")&&"g"!=/./g.flags&&n("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:n("0bfb")})},"461b":function(t,e,n){},5147:function(t,e,n){var r=n("2b4c")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,!"/./"[t](e)}catch(a){}}return!0}},"520a":function(t,e,n){"use strict";var r=n("0bfb"),a=RegExp.prototype.exec,i=String.prototype.replace,s=a,c="lastIndex",o=function(){var t=/a/,e=/b*/g;return a.call(t,"a"),a.call(e,"a"),0!==t[c]||0!==e[c]}(),u=void 0!==/()??/.exec("")[1],l=o||u;l&&(s=function(t){var e,n,s,l,f=this;return u&&(n=new RegExp("^"+f.source+"$(?!\\s)",r.call(f))),o&&(e=f[c]),s=a.call(f,t),o&&s&&(f[c]=f.global?s.index+s[0].length:e),u&&s&&s.length>1&&i.call(s[0],n,function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(s[l]=void 0)}),s}),t.exports=s},"5f1b":function(t,e,n){"use strict";var r=n("23c6"),a=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var i=n.call(t,e);if("object"!==typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(t))throw new TypeError("RegExp#exec called on incompatible receiver");return a.call(t,e)}},6762:function(t,e,n){"use strict";var r=n("5ca1"),a=n("c366")(!0);r(r.P,"Array",{includes:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")("includes")},"6b54":function(t,e,n){"use strict";n("3846");var r=n("cb7c"),a=n("0bfb"),i=n("9e1e"),s="toString",c=/./[s],o=function(t){n("2aba")(RegExp.prototype,s,t,!0)};n("79e5")(function(){return"/a/b"!=c.call({source:"a",flags:"b"})})?o(function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!i&&t instanceof RegExp?a.call(t):void 0)}):c.name!=s&&o(function(){return c.call(this)})},"77d9":function(t,e,n){"use strict";var r=n("461b"),a=n.n(r);a.a},a55b:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login"},[t.twitchAuthenticating()?n("div",{staticClass:"twitch-auth-active"},[n("h2",[t._v("Logging in with Twitch...")])]):t._e(),t.twitchAuthenticating()?t._e():n("div",[n("h1",[t._v("User login")]),t._m(0),n("div",{staticClass:"login-container"},[n("div",{staticClass:"login"},[n("div",{staticClass:"input-row"},[n("div",[t._m(1),n("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"input-username",attrs:{id:"inputUsername",name:"inputUsername",type:"text",placeholder:"Username"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),n("div",[t._m(2),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"input-password",attrs:{id:"inputPassword",name:"inputPassword",type:"password",minlength:"8",placeholder:"Password (min 8 characters)"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),n("button",{staticClass:"login-button",on:{click:function(e){return t.authenticateWithUserCredentialsAsync()}}},[t._v("Login")]),n("div",{staticClass:"bad-login-result"},[t._v(t._s(t.badLoginResult))]),t._m(3),n("div",{staticClass:"login twitch",on:{click:function(e){return t.authenticateWithTwitchAsync()}}},[n("i",{staticClass:"fab fa-twitch"}),t._v(" Login with Twitch\n          ")])])])])])])},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[t._v("Login to access character customization, marketplace and more!"),n("br"),t._v("If you don't have an account you can login\n      with Twitch and then assign a username and password.")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"input-icon user"},[n("i",{staticClass:"fas fa-user"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"input-icon"},[n("i",{staticClass:"fas fa-lock-alt"})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login seperator"},[n("div",{staticClass:"seperator text"},[t._v("Or")])])}],i=(n("28a5"),n("6b54"),n("96cf"),n("3b8d")),s=(n("6762"),n("2fdb"),n("d225")),c=n("b0b4"),o=n("308d"),u=n("6bb5"),l=n("4e2b"),f=n("9ab4"),h=n("60a3"),d=n("b01f"),p=n("3dfd"),v=function(t){function e(){var t;return Object(s["a"])(this,e),t=Object(o["a"])(this,Object(u["a"])(e).apply(this,arguments)),t.username="",t.password="",t.badLoginResult="",t}return Object(l["a"])(e,t),Object(c["a"])(e,[{key:"mounted",value:function(){this.updateLoginStateAsync()}},{key:"twitchAuthenticating",value:function(){var t=document.location.hash;return null!=t&&t.length>0&&t.includes("access_token")}},{key:"authenticateWithUserCredentialsAsync",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,n,r,a,i,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.username,n=this.password,this.badLoginResult="",0!=e.length&&0!=n.length){t.next=5;break}return t.abrupt("return");case 5:return t.prev=5,t.next=8,d["a"].sendAsync("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:n})});case 8:if(r=t.sent,a="",!r.ok){t.next=17;break}return t.next=13,r.json();case 13:i=t.sent;try{s=i,p["a"].set(s),!0===i.authenticated?i.requiresPasswordChange?this.$router.push("/password"):this.$router.push("/"):a="Invalid username or password.",window["AppClass"].$forceUpdate()}catch(c){a=null!=c&&c?c.toString():"Invalid username or password."}t.next=18;break;case 17:a="Unable to login, unknown error.";case 18:this.badLoginResult=a,t.next=23;break;case 21:t.prev=21,t.t0=t["catch"](5);case 23:case"end":return t.stop()}},t,this,[[5,21]])}));function e(){return t.apply(this,arguments)}return e}()},{key:"authenticateWithTwitchAsync",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,d["a"].sendAsync("/api/twitch/access",{method:"GET"});case 2:return e=t.sent,t.next=5,e.text();case 5:n=t.sent,null!=n&&n.length>0&&(window.location.href=n);case 7:case"end":return t.stop()}},t)}));function e(){return t.apply(this,arguments)}return e}()},{key:"updateLoginStateAsync",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,n,r,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e="",n=document.location.hash,!(null!=n&&n.length>0&&n.includes("access_token"))){t.next=18;break}return e=n.split("access_token=")[1],t.next=6,d["a"].sendAsync("/api/twitch/session?token="+e,{method:"GET"});case 6:if(r=t.sent,!r.ok){t.next=18;break}return t.next=10,r.json();case 10:if(a=t.sent,null==a){t.next=17;break}return p["a"].set(a),!0===a.authenticated?a.requiresPasswordChange?this.$router.push("/password"):this.$router.push("/"):this.badLoginResult="Invalid username or password.",t.abrupt("return");case 17:this.badLoginResult="Login failed, unknown reason.";case 18:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}]),e}(h["c"]);v=f["a"]([Object(h["a"])({})],v);var g=v,b=g,w=(n("77d9"),n("2877")),m=Object(w["a"])(b,r,a,!1,null,"4a0ca949",null);e["default"]=m.exports},aae3:function(t,e,n){var r=n("d3f4"),a=n("2d95"),i=n("2b4c")("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==a(t))}},b01f:function(t,e,n){"use strict";n.d(e,"a",function(){return o});n("f559"),n("96cf");var r=n("3b8d"),a=n("d225"),i=n("b0b4"),s=window.location.port,c=window.location.href.indexOf("localhost")>=0||null!=s&&s&&parseInt(s)>=500,o=function(){function t(){Object(a["a"])(this,t)}return Object(i["a"])(t,null,[{key:"sendAsync",value:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(e){var n,r=arguments;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:null,c&&(e="https://localhost:5001/"+(e.startsWith("/")?e.substring(1):e)),t.next=4,fetch(e,n);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}},t)}));function e(e){return t.apply(this,arguments)}return e}()}]),t}()},b0c5:function(t,e,n){"use strict";var r=n("520a");n("5ca1")({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},d2c8:function(t,e,n){var r=n("aae3"),a=n("be13");t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(a(t))}},f559:function(t,e,n){"use strict";var r=n("5ca1"),a=n("9def"),i=n("d2c8"),s="startsWith",c=""[s];r(r.P+r.F*n("5147")(s),"String",{startsWith:function(t){var e=i(this,t,s),n=a(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return c?c.call(e,r,n):e.slice(n,n+r.length)===r}})}}]);
//# sourceMappingURL=chunk-76865ef5.js.map